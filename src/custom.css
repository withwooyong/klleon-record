.base-react-example-page {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;

  .header {
    margin-bottom: 30px;
  }

  .loading-text {
    position: absolute;
    font-size: 1.5em;
    color: #555;
    padding: 50px;
  }

  .start-chat-button {
    width: 150px;
    height: 50px;
    background-color: #0c5ef0;
    color: #fff;
    border-radius: 10px;
    font-size: 16px;
    font-weight: 600;
    border: none;
    cursor: pointer;
  }

  .sdk-container {
    display: flex;
    width: 100%;
    height: calc(100vh - 80px);
    gap: 0px 24px;
    box-sizing: border-box;

    .avatar-container {
      flex: 1;
      position: relative;
      width: 100%;
      max-width: 400px; /* 최대 너비 제한 */
      margin: 0 auto; /* 중앙 정렬 */
      box-sizing: border-box;

      /* 아바타 컨테이너 내부 비디오 스타일 */
      video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 12px;
      }

      /* 아바타 크기별 스타일 - 명시적으로 16:9 비율 계산 */
      &.avatar-size-pc {
        width: 500px !important; /* 고정 너비 */
        height: 889px !important; /* 500 * (16/9) = 889px */
        max-width: 500px;

        video {
          object-fit: contain; /* PC에서는 전체 아바타가 보이도록 */
        }
      }

      &.avatar-size-tablet {
        width: 400px !important; /* 고정 너비 */
        height: 711px !important; /* 400 * (16/9) = 711px */
        max-width: 400px;

        video {
          object-fit: cover;
        }
      }

      &.avatar-size-mobile {
        width: 300px !important; /* 고정 너비 */
        height: 533px !important; /* 300 * (16/9) = 533px */
        max-width: 300px;

        video {
          object-fit: cover;
        }
      }
    }

    .chat-control-container {
      display: flex;
      flex-direction: column;
      flex: 1;
      gap: 24px 0px;
      width: 100%;
      box-sizing: border-box;

      .chat-container {
        flex: 1;
        border-radius: 24px;
      }

      .chat-echo-container {
        display: flex;
        flex-direction: column;
        width: 100%;
        box-sizing: border-box;

        .echo-input {
          width: 100%;
          min-height: 50px;
          max-height: 120px;
          border: 1px solid #ccc;
          border-radius: 8px;
          padding: 12px 16px;
          font-size: 16px;
          margin-bottom: 10px;
          box-sizing: border-box;
          outline: none;
          font-family: inherit;
          line-height: 1.4;
          resize: vertical;

          &:focus {
            border-color: #0c5ef0;
            box-shadow: 0 0 0 2px rgba(12, 94, 240, 0.2);
          }
        }

        .echo-button {
          width: 100%;
          height: 50px;
          border: 1px solid #ccc;
          border-radius: 8px;
          padding: 0 10px;
          background-color: #0c5ef0;
          color: #fff;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          box-sizing: border-box;

          &:disabled {
            background-color: #ccc;
            color: #fff;
            cursor: not-allowed;
          }
        }
      }
    }
  }

  /* 모바일 반응형 디자인 */
  @media (max-width: 768px) {
    .header-bar {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      z-index: 1000 !important;
      background: rgba(248, 249, 250, 0.95) !important;
      backdrop-filter: blur(10px) !important;
      padding: 10px 15px !important;

      .header-info h2 {
        font-size: 16px !important;
        margin-bottom: 0 !important;
      }

      .header-controls {
        width: auto !important;
        justify-content: flex-end !important;
        flex-direction: row !important;
        gap: 10px !important;

        .avatar-size-selector {
          display: none !important; /* 모바일에서 크기 선택 숨기기 */
        }

        button {
          width: auto;
          font-size: 12px !important;
          padding: 6px 12px !important;
        }
      }
    }

    .sdk-container {
      flex-direction: column !important;
      height: 100vh !important;
      gap: 0 !important;
      padding-top: 60px !important; /* 헤더 높이만큼 패딩 */
      width: 100% !important; /* 전체 너비 확보 */
      box-sizing: border-box !important;

      .avatar-container {
        flex: 0 0 66.67% !important; /* 상단 2/3 영역 */
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
        position: relative !important;
        z-index: 1 !important; /* 채팅창보다 뒤에 표시 */

        video {
          width: 100% !important;
          height: 100% !important;
          object-fit: cover !important;
          border-radius: 0 !important;
        }

        /* 모바일에서는 모든 크기를 상단 2/3로 */
        &.avatar-size-pc,
        &.avatar-size-tablet,
        &.avatar-size-mobile {
          width: 100% !important;
          height: 100% !important;
          max-width: 100% !important;
          margin: 0 !important;
          box-sizing: border-box !important;

          video {
            object-fit: cover !important;
          }
        }
      }

      .chat-control-container {
        flex: 0 0 33.33% !important; /* 하단 1/3 영역 */
        width: 100% !important;
        background: #e8e9ff !important; /* 보라색 배경 */
        border-radius: 20px 20px 0 0 !important; /* 상단만 둥글게 */
        padding: 20px !important;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1) !important;
        box-sizing: border-box !important;
        margin: 0 !important;
        position: relative !important;
        z-index: 10 !important; /* 아바타보다 앞에 표시 */

        .chat-container {
          flex: 1 !important;
          min-height: 200px !important;
          margin-bottom: 15px !important;
          overflow-y: auto !important;

          /* 채팅 메시지 스타일 */
          .message-bubble {
            background: white !important;
            color: #333 !important;
            margin-bottom: 10px !important;
            padding: 10px 15px !important;
            border-radius: 20px !important;
            font-size: 14px !important;
            line-height: 1.4 !important;
            max-width: 80% !important;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important;

            &.user {
              background: #007bff !important;
              color: white !important;
              align-self: flex-end !important;
            }

            &.assistant {
              background: white !important;
              color: #333 !important;
              align-self: flex-start !important;
            }
          }
        }

        .chat-echo-container {
          display: none !important; /* 모바일에서 echo UI 숨기기 */
        }
      }
    }
  }

  /* 매우 작은 화면 (480px 이하) */
  @media (max-width: 480px) {
    .header-bar {
      padding: 8px 10px !important;

      .header-info h2 {
        font-size: 14px !important;
      }

      .header-controls {
        button {
          font-size: 11px !important;
          padding: 5px 8px !important;
        }
      }
    }

    .sdk-container {
      padding-top: 50px !important; /* 작은 헤더 높이 고려 */
      width: 100% !important; /* 전체 너비 확보 */
      box-sizing: border-box !important;

      .avatar-container {
        flex: 0 0 66.67% !important; /* 상단 2/3 영역 */
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
        position: relative !important;
        z-index: 1 !important; /* 채팅창보다 뒤에 표시 */

        /* 매우 작은 화면에서도 상단 2/3 */
        &.avatar-size-pc,
        &.avatar-size-tablet,
        &.avatar-size-mobile {
          width: 100% !important;
          height: 100% !important;
          max-width: 100% !important;
          margin: 0 !important;
          box-sizing: border-box !important;

          video {
            object-fit: cover !important;
          }
        }
      }

      .chat-control-container {
        flex: 0 0 33.33% !important; /* 하단 1/3 영역 */
        width: 100% !important;
        padding: 15px !important; /* 작은 화면에서 패딩 줄이기 */
        box-sizing: border-box !important;
        margin: 0 !important;
        position: relative !important;
        z-index: 10 !important; /* 아바타보다 앞에 표시 */

        .chat-container {
          flex: 1 !important;
          min-height: 150px !important; /* 작은 화면에서 최소 높이 줄이기 */
          margin-bottom: 10px !important;

          .message-bubble {
            font-size: 13px !important;
            padding: 8px 12px !important;
            margin-bottom: 8px !important;
          }
        }

        .chat-echo-container {
          display: none !important; /* 매우 작은 화면에서도 echo UI 숨기기 */
        }
      }
    }
  }

  /* 아바타 선택 화면 모바일 반응형 */
  @media (max-width: 768px) {
    .avatar-selection {
      padding: 10px !important;

      h1 {
        font-size: 24px !important;
        margin-bottom: 20px !important;
      }

      .avatar-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)) !important;
        gap: 15px !important;

        .avatar-card {
          padding: 10px !important;

          .avatar-image {
            min-height: 100px !important;
          }

          h3 {
            font-size: 12px !important;
            height: 30px !important;
          }
        }
      }
    }
  }
}
